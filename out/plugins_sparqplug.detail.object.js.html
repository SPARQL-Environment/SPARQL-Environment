<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: plugins/sparqplug.detail.object.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: plugins/sparqplug.detail.object.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>sparqplug.create(sparqplug.type.detail,'urn:sparqplug:sparqlenvironment.detail.object:0.1',{
	"title":"Object",
	"description":"View query history.",
	"icon":"&amp;#xf0e8;",
	load:function () {
		this.append("&lt;ul>&lt;/ul>")
		environment.bindToEvent('selectedObject', sparqplug.get(this).selected, {'selector':this} );
	},
	/**
	 * Called when an object is selected.
	 * @param {object} data Contains the data about the selected object. Important
	 * keys are:
	 * - object
	 * - selector
	 */
	selected:function (data) {
		obj = data.object;
		datasetObject = environment.getDatasetObject(data.dataset);

		$detail = data.selector;
		$detail.empty();

		$obj_display = $('&lt;div />',{
			text: $.resolvePrefix(obj,datasetObject),
			class: 'header'
		});

		$obj_verbs = $('&lt;div />',{
			class: 'verb-list'
		});

		obj_string = '&lt;'+obj+'>'; // should check for prefix

		// TO-DO stop using versbForObject and verbsForDirectObject.
		// Use custom query that retrieves both at once.

		$obj_verbs.append("&lt;h4>Verbs as Subject&lt;/h4>");

		$.each($.verbsForObject(obj_string,datasetObject),function (index, verb) {
			$obj_verb = $('&lt;a />',{
				text: $.resolvePrefix(verb.value,datasetObject),
				class: 'verb-item'
			});
			$obj_verb.data('obj',obj);
			$obj_verb.data('verb', verb.value);

			$obj_verb.click(function () {
				environment.performQuery('SELECT ?object WHERE { &lt;'+$(this).data('obj')+'> &lt;'+$(this).data('verb')+'> ?object }',data.dataset);
			});

			$obj_verbs.append($obj_verb);
			$obj_verbs.append('&lt;br/>');
		});

		$detail.append($obj_verbs);

		$obj_verbs.append("&lt;h4>Verbs as Object&lt;/h4>");

		$.each($.verbsForDirectObject(obj_string,datasetObject),function (index, verb) {
			$obj_verb = $('&lt;a />',{
				text: $.resolvePrefix(verb.value,datasetObject),
				class: 'verb-item'
			});
			$obj_verb.data('obj',obj);
			$obj_verb.data('verb', verb.value);

			$obj_verb.click(function () {
				environment.performQuery('SELECT ?subject WHERE { ?subject &lt;'+$(this).data('verb')+'> &lt;'+$(this).data('obj')+'> }',datasetObject);
			});

			$obj_verbs.append($obj_verb);
			$obj_verbs.append('&lt;br/>');

		});

		$detail.append($obj_display);
	},
	createHistoryli: function (query, index) {
		li = $("&lt;li/>",{
					text: query
				}).click(function(){
					query = this.innerHTML;
					environment.performQuery(query);
				});
				return li;
	}
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="environment.html">environment</a></li><li><a href="environment.bindingAgents.html">bindingAgents</a></li><li><a href="environment.plugins.html">plugins</a></li><li><a href="environment.resolver.html">resolver</a></li><li><a href="sparqplug.html">sparqplug</a></li></ul><h3>Global</h3><ul><li><a href="global.html#binaryIndexOf">binaryIndexOf</a></li><li><a href="global.html#destroy">destroy</a></li><li><a href="global.html#extractSearchQuery">extractSearchQuery</a></li><li><a href="global.html#getCaretRelativePosition">getCaretRelativePosition</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#jQueryFullScreenPlugin">jQuery FullScreen Plugin</a></li><li><a href="global.html#onClickDocument">onClickDocument</a></li><li><a href="global.html#onKeyup">onKeyup</a></li><li><a href="global.html#onKeyupDocument">onKeyupDocument</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#renderList">renderList</a></li><li><a href="global.html#selected">selected</a></li><li><a href="global.html#skipSearch">skipSearch</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Sat Oct 03 2015 22:53:29 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
